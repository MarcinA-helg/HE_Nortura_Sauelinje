{"CLs":[{"__type":"IST","EID":"a8a7b795-cb3d-45b8-a44f-097701d5301d","H":420.4,"TXT":"TimeDateNow := GetTime();                                        \u0009\/\/read date current date and time\u000d\u000aTimeNow := DT_TO_TOD(TimeDateNow);                      \/\/extract time from time and date\u000d\u000aDateNow := DT_TO_DATE(TimeDateNow);\u0009\u0009\u0009\u0009       \/\/extract date from time and date\u000d\u000aDayOfWeekNow := GetDayOfWeek (DateNow);           \/\/read weekday fom date\u000d\u000a\u000d\u000aDtToDateStruct (TimeDateNow,\u0009TimeDateNowStruct);\u000d\u000a\u000d\u000aIF (TimeNow >= TOD#00:00:00) AND (TimeNow <= TOD#00:00:01) THEN  \/\/one second midnight puls \u000d\u000a\u0009\u0009DayRst := TRUE;\u000d\u000aELSE\u000d\u000a\u0009DayRst :=FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF DayOfWeekNow = _MON THEN\u000d\u000a\u0009\u0009WeekRst := TRUE;\u000d\u000aELSE\u000d\u000a\u0009\u0009WeekRst := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF TimeDateNowStruct.Day = 1 THEN\u000d\u000a\u0009MonthRst := TRUE;\u000d\u000aELSE\u000d\u000a\u0009MonthRst := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF ((TimeDateNowStruct.Day = 1) AND (TimeDateNowStruct.Month = 1) )THEN\u000d\u000a\u0009YearRst := TRUE;\u000d\u000aELSE\u000d\u000a\u0009YearRst := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u0009","W":1265.6000000000001}],"CMT":"Reset bits","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":3,"Var":"P_On"},{"__type":"LD","Id":"9eb35841-192c-455e-8c22-bee691cd0317","Up":true,"Var":"DayRst","X":1},{"__type":"ST","Ix":4,"Var":"DayShift","X":2},{"__type":"LD","Id":"20c87578-37d0-4a02-a002-a27477f99a5a","Ix":1,"Up":true,"Var":"WeekRst","X":1,"Y":1},{"__type":"ST","Ix":5,"Var":"WeekShift","X":2,"Y":1},{"__type":"LD","Id":"eecaf061-a1b7-4407-a9db-f75d703c5ef3","Ix":2,"Up":true,"Var":"MonthRst","X":1,"Y":2},{"__type":"ST","Ix":6,"Var":"MonthShift","X":2,"Y":2}],"CMT":"Bool outputs","LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":1},{"Ix":9,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"LINT","Var":"SekInt"}],"Ix":3,"Name":"SecToTime","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":2,"Type":"TIME","Var":"SekTim"}],"X":1}],"CMT":"Constant 1s from INT to TIME format","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"LD","Id":"b2dda706-f6b3-4a53-ae9e-ad38ef3df270","Ix":1,"Up":true,"Var":"Trig","X":1},{"__type":"ST","Ix":4,"S":true,"Var":"TrigAct","X":2},{"__type":"LD","Ix":3,"Var":"TrigAct","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":18,"Name":"Get1sClk","Out":[{"__type":"PF","Arg":""}],"X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":6,"Type":"TIME","Var":"SekTim"},{"__type":"PRM","Arg":"In2","Ix":7,"Type":"TIME","Var":"SwitchValues.TimeDay"}],"Ix":19,"Name":"@ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":8,"Type":"TIME","Var":"SwitchValues.TimeDay"}],"X":3,"Y":1,"Id":"823bc4de-ccaa-429a-a84b-075c341ee3d1"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":9,"Type":"TIME","Var":"SekTim"},{"__type":"PRM","Arg":"In2","Ix":10,"Type":"TIME","Var":"SwitchValues.TimeWeek"}],"Ix":20,"Name":"@ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":11,"Type":"TIME","Var":"SwitchValues.TimeWeek"}],"X":4,"Y":1,"Id":"55c9c84f-1089-44d0-a1eb-adc81e6a4729"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":12,"Type":"TIME","Var":"SekTim"},{"__type":"PRM","Arg":"In2","Ix":13,"Type":"TIME","Var":"SwitchValues.TimeMonth"}],"Ix":21,"Name":"@ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":14,"Type":"TIME","Var":"SwitchValues.TimeMonth"}],"X":5,"Y":1,"Id":"39401e08-4fb1-4045-88e8-6f82e96a3970"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":15,"Type":"TIME","Var":"SekTim"},{"__type":"PRM","Arg":"In2","Ix":16,"Type":"TIME","Var":"SwitchValues.TimeYear"}],"Ix":22,"Name":"@ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":17,"Type":"TIME","Var":"SwitchValues.TimeYear"}],"X":6,"Y":1,"Id":"60dbc761-5208-4881-928c-980200000252"},{"__type":"LD","Dwn":true,"Id":"662f293e-db4e-424d-a7de-523398693ce7","Ix":2,"Var":"Trig","X":1,"Y":2},{"__type":"ST","Ix":5,"RS":true,"Var":"TrigAct","X":2,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":4},{"__type":"HL","X":5},{"__type":"HL","X":6},{"__type":"HL","X":3,"Y":2},{"__type":"HL","X":4,"Y":2},{"__type":"HL","X":5,"Y":2},{"__type":"HL","X":6,"Y":2}],"CMT":"Time","LRI":23,"RRI":24,"VLs":[{"Ix":25,"X":1},{"Ix":25,"X":1,"Y":1}]}
{"CLs":[{"__type":"IST","EID":"70f7df91-c365-48c5-985e-55d105cf51f6","H":104.19999999999982,"TXT":"SwitchValues.TimeDay := TruncTime (SwitchValues.TimeDay, _SEC);\u000d\u000aSwitchValues.TimeMonth := TruncTime (SwitchValues.TimeMonth, _SEC);\u000d\u000aSwitchValues.TimeWeek := TruncTime (SwitchValues.TimeWeek,  _SEC);\u000d\u000aSwitchValues.TimeYear := TruncTime (SwitchValues.TimeYear, _SEC);","W":691.19999999999993}],"CMT":"Change time accurancy to seconds","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"LD","Id":"18cdbad2-bb14-43f3-b97d-5c45d2f79430","Ix":1,"Up":true,"Var":"Trig","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":2,"Type":"ANY_INT","Var":"SwitchValues.CounterDay"}],"Ix":14,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":3,"Type":"ANY_INT","Var":"SwitchValues.CounterDay"},{"__type":"PRM","Arg":"","Ix":4,"Type":"BOOL","Var":""}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":5,"Type":"ANY_INT","Var":"SwitchValues.CounterWeek"}],"Ix":15,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":6,"Type":"ANY_INT","Var":"SwitchValues.CounterWeek"},{"__type":"PRM","Arg":"","Ix":7,"Type":"BOOL","Var":""}],"X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":8,"Type":"ANY_INT","Var":"SwitchValues.CounterMonth"}],"Ix":16,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":9,"Type":"ANY_INT","Var":"SwitchValues.CounterMonth"},{"__type":"PRM","Arg":"","Ix":10,"Type":"BOOL","Var":""}],"X":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":11,"Type":"ANY_INT","Var":"SwitchValues.CounterYear"}],"Ix":17,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":12,"Type":"ANY_INT","Var":"SwitchValues.CounterYear"},{"__type":"PRM","Arg":"","Ix":13,"Type":"BOOL","Var":""}],"X":5}],"CMT":"Counter","LRI":18,"RRI":19,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"DayResetAutActive"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_NUM","Var":"DayResetAutHour"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_NUM","Var":"TimeDateNowStruct.Hour"}],"Ix":10,"Name":"Cmp","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":3,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"OutEQ","Ix":4,"Type":"BOOL","Var":"DayResetNow"},{"__type":"PRM","Arg":"OutGT","Ix":5,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"OutGE","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"OutNE","Ix":7,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"OutLT","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"OutLE","Ix":9,"Type":"BOOL","Var":""}],"X":1}],"CMT":"Time for DAY values reset","LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"LD","Id":"59c4fda2-9003-4d24-8dc2-125c1e70feb8","Ix":8,"Up":true,"Var":"DayResetNow","X":1},{"__type":"LD","Id":"ea05a910-d976-4bbd-a9db-e024ac860d84","Ix":3,"Up":true,"Var":"ResDayInp","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":21,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":31,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":22,"Type":"ANY","Var":"SwitchValues.TimeDay"}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":23,"Type":"ANY","Var":"UINT#0"}],"Ix":32,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":24,"Type":"ANY","Var":"SwitchValues.CounterDay"}],"X":3},{"__type":"LD","Id":"f80d0584-dc87-461b-8d60-cf6700003f27","Ix":1,"Up":true,"Var":"WeekRst","X":1,"Y":2},{"__type":"LD","Id":"71f98c6e-4299-4c3b-95b8-be5eb04d6e1a","Ix":4,"Up":true,"Var":"ResWeekInp","X":1,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":9,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":25,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":10,"Type":"ANY","Var":"SwitchValues.TimeWeek"}],"X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":11,"Type":"ANY","Var":"UINT#0"}],"Ix":26,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":12,"Type":"ANY","Var":"SwitchValues.CounterWeek"}],"X":3,"Y":2},{"__type":"LD","Id":"1637132f-5b1d-46fe-b7ea-d460640bf121","Ix":2,"Up":true,"Var":"MonthRst","X":1,"Y":4},{"__type":"LD","Id":"2e91e572-7c5d-43fc-8231-5dba4ac00238","Ix":5,"Up":true,"Var":"ResMonthInp","X":1,"Y":5},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":13,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":27,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":14,"Type":"ANY","Var":"SwitchValues.TimeMonth"}],"X":2,"Y":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":15,"Type":"ANY","Var":"UINT#0"}],"Ix":28,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":16,"Type":"ANY","Var":"SwitchValues.CounterMonth"}],"X":3,"Y":4},{"__type":"LD","Id":"b633836e-2c88-459d-95d6-3a8cbf34dd8f","Ix":6,"Up":true,"Var":"YearRst","X":1,"Y":6},{"__type":"LD","Id":"112d366b-7ec4-42ad-abd0-a9bc08fb63b4","Ix":7,"Up":true,"Var":"ResYearInp","X":1,"Y":7},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":17,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":29,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":18,"Type":"ANY","Var":"SwitchValues.TimeYear"}],"X":2,"Y":6},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":19,"Type":"ANY","Var":"UINT#0"}],"Ix":30,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":20,"Type":"ANY","Var":"SwitchValues.CounterYear"}],"X":3,"Y":6}],"CMT":"Reset values","LRI":33,"RRI":34,"VLs":[{"Ix":35,"X":1},{"Ix":35,"X":1,"Y":1},{"Ix":35,"X":1,"Y":2},{"Ix":35,"X":1,"Y":3},{"Ix":35,"X":1,"Y":4},{"Ix":35,"X":1,"Y":5},{"Ix":35,"X":1,"Y":6},{"Ix":36,"X":2,"Y":2},{"Ix":37,"X":2,"Y":6},{"Ix":38,"X":2,"Y":4},{"Ix":39,"X":2}]}
