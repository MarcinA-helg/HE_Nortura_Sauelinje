{"CLs":[{"__type":"IST","EID":"a8a7b795-cb3d-45b8-a44f-097701d5301d","H":252.39999999999998,"TXT":"TimeDateNow := GetTime();                                        \u0009\/\/read date current date and time\u000d\u000aTimeNow := DT_TO_TOD(TimeDateNow);                      \/\/extract time from time and date\u000d\u000aDateNow := DT_TO_DATE(TimeDateNow);\u0009\u0009\u0009\u0009       \/\/extract date from time and date\u000d\u000aDayOfWeekNow := GetDayOfWeek (DateNow);           \/\/read weekday fom date\u000d\u000a\u000d\u000aDtToDateStruct (TimeDateNow,\u0009TimeDateNowStruct);\u000d\u000a\u000d\u000a\u000d\u000aIF TimeNow = TOD#00:00:00.00 THEN\u000d\u000a\u0009\u0009DayRst := TRUE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF DayOfWeekNow = _MON THEN\u000d\u000a\u0009\u0009WeekRst := TRUE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF TimeDateNowStruct.Day = 1 THEN\u000d\u000a\u0009MonthRst := TRUE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\u000d\u000a\u0009","W":737.60000000000014}],"CMT":"Reset bits","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":3,"Var":"P_On"},{"__type":"LD","Id":"9eb35841-192c-455e-8c22-bee691cd0317","Up":true,"Var":"DayRst","X":1},{"__type":"ST","Ix":4,"Var":"DayShift","X":2},{"__type":"LD","Id":"20c87578-37d0-4a02-a002-a27477f99a5a","Ix":1,"Up":true,"Var":"WeekRst","X":1,"Y":1},{"__type":"ST","Ix":5,"Var":"WeekShift","X":2,"Y":1},{"__type":"LD","Id":"eecaf061-a1b7-4407-a9db-f75d703c5ef3","Ix":2,"Up":true,"Var":"MonthRst","X":1,"Y":2},{"__type":"ST","Ix":6,"Var":"MonthShift","X":2,"Y":2}],"CMT":"Bool outputs","LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":1},{"Ix":9,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"LD","Id":"b3059b63-62e2-4793-bc45-07414cdaf60a","Ix":1,"Up":true,"Var":"Enable","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":17,"Name":"GetTime","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":3,"Type":"DATE_AND_TIME","Var":"EnOnTime"}],"X":2},{"__type":"LD","Dwn":true,"Id":"11f23cb2-79db-4fde-9494-40339f894984","Ix":2,"Var":"Enable","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":18,"Name":"GetTime","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":4,"Type":"DATE_AND_TIME","Var":"EnOffTime"}],"X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"DATE_AND_TIME","Var":"EnOffTime"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"DATE_AND_TIME","Var":"EnOnTime"}],"Ix":19,"Name":"SUB_DT_DT","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":7,"Type":"TIME","Var":"EnCycleTime"}],"X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":8,"Type":"TIME","Var":"EnCycleTime"},{"__type":"PRM","Arg":"In2","Ix":9,"Type":"TIME","Var":"EnableTimeDayX"}],"Ix":20,"Name":"ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":10,"Type":"TIME","Var":"EnableTimeDayX"}],"X":2,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":11,"Type":"TIME","Var":"EnCycleTime"},{"__type":"PRM","Arg":"In2","Ix":12,"Type":"TIME","Var":"EnableTimeWeekX"}],"Ix":21,"Name":"ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":13,"Type":"TIME","Var":"EnableTimeWeekX"}],"X":3,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":14,"Type":"TIME","Var":"EnCycleTime"},{"__type":"PRM","Arg":"In2","Ix":15,"Type":"TIME","Var":"EnableTimeMonthX"}],"Ix":22,"Name":"ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":16,"Type":"TIME","Var":"EnableTimeMonthX"}],"X":4,"Y":3},{"__type":"HL","X":3},{"__type":"HL","X":4},{"__type":"HL","X":3,"Y":1},{"__type":"HL","X":4,"Y":1},{"__type":"HL","X":3,"Y":2},{"__type":"HL","X":4,"Y":2}],"CMT":"Enabling time","LRI":23,"RRI":24,"VLs":[{"Ix":25,"X":1},{"Ix":26,"X":2,"Y":1},{"Ix":26,"X":2,"Y":2}]}
{"CLs":[{"__type":"IST","EID":"906621aa-fc80-443e-b307-51d8399a0a7f","H":85.999999999999886,"TXT":"EnableTimeDay := TruncTime (EnableTimeDayX, _SEC);\u000d\u000aEnableTimeWeek := TruncTime (EnableTimeWeekX, _SEC);\u000d\u000aEnableTimeMonth := TruncTime (EnableTimeMonthX, _SEC);","W":677.6}],"CMT":"Change enabling time accurancy to seconds","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"LD","Id":"78cf8443-ae5f-4315-91e2-77fba59696b6","Ix":1,"Up":true,"Var":"DayRst","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":10,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"EnableTimeDay"}],"X":2},{"__type":"LD","Id":"2fd4e9e2-2db9-4b73-ba15-aa0271e9fd05","Ix":2,"Up":true,"Var":"WeekRst","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":11,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"EnableTimeWeek"}],"X":2,"Y":1},{"__type":"LD","Id":"8ee3e7d8-0c88-4ee4-94a6-3759bf07b6a5","Ix":3,"Up":true,"Var":"MonthRst","X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":12,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":9,"Type":"ANY","Var":"EnableTimeMonth"}],"X":2,"Y":2}],"CMT":"Reset values - enabling time","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":1},{"Ix":15,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"LD","Id":"b2dda706-f6b3-4a53-ae9e-ad38ef3df270","Ix":1,"Up":true,"Var":"Trig","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":17,"Name":"GetTime","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":3,"Type":"DATE_AND_TIME","Var":"OnTime"}],"X":2},{"__type":"LD","Dwn":true,"Id":"662f293e-db4e-424d-a7de-523398693ce7","Ix":2,"Var":"Trig","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":18,"Name":"GetTime","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":4,"Type":"DATE_AND_TIME","Var":"OffTime"}],"X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":14,"Type":"DATE_AND_TIME","Var":"OffTime"},{"__type":"PRM","Arg":"In2","Ix":15,"Type":"DATE_AND_TIME","Var":"OnTime"}],"Ix":22,"Name":"SUB_DT_DT","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":16,"Type":"TIME","Var":"CycleTime"}],"X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"TIME","Var":"CycleTime"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"TIME","Var":"TimeDayX"}],"Ix":19,"Name":"ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":7,"Type":"TIME","Var":"TimeDayX"}],"X":2,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":8,"Type":"TIME","Var":"CycleTime"},{"__type":"PRM","Arg":"In2","Ix":9,"Type":"TIME","Var":"TimeWeekX"}],"Ix":20,"Name":"ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":10,"Type":"TIME","Var":"TimeWeekX"}],"X":3,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":11,"Type":"TIME","Var":"CycleTime"},{"__type":"PRM","Arg":"In2","Ix":12,"Type":"TIME","Var":"TimeMonthX"}],"Ix":21,"Name":"ADD_TIME","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":13,"Type":"TIME","Var":"TimeMonthX"}],"X":4,"Y":3},{"__type":"HL","X":3},{"__type":"HL","X":4},{"__type":"HL","X":3,"Y":1},{"__type":"HL","X":4,"Y":1},{"__type":"HL","X":3,"Y":2},{"__type":"HL","X":4,"Y":2}],"CMT":"Time","LRI":23,"RRI":24,"VLs":[{"Ix":25,"X":1},{"Ix":26,"X":2,"Y":1},{"Ix":26,"X":2,"Y":2}]}
{"CLs":[{"__type":"IST","EID":"70f7df91-c365-48c5-985e-55d105cf51f6","H":89.199999999999818,"TXT":"TimeDay := TruncTime (TimeDayX, _SEC);\u000d\u000aTimeWeek := TruncTime (TimeWeekX, _SEC);\u000d\u000aTimeMonth := TruncTime (TimeMonthX, _SEC);","W":671.19999999999993}],"CMT":"Change time accurancy to seconds","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"LD","Id":"18cdbad2-bb14-43f3-b97d-5c45d2f79430","Ix":1,"Up":true,"Var":"Trig","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":2,"Type":"ANY_INT","Var":"CntDay"}],"Ix":11,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":3,"Type":"ANY_INT","Var":"CntDay"},{"__type":"PRM","Arg":"","Ix":4,"Type":"BOOL","Var":""}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":5,"Type":"ANY_INT","Var":"CntWeek"}],"Ix":12,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":6,"Type":"ANY_INT","Var":"CntWeek"},{"__type":"PRM","Arg":"","Ix":7,"Type":"BOOL","Var":""}],"X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":8,"Type":"ANY_INT","Var":"CntMonth"}],"Ix":13,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":9,"Type":"ANY_INT","Var":"CntMonth"},{"__type":"PRM","Arg":"","Ix":10,"Type":"BOOL","Var":""}],"X":4}],"CMT":"Counter","LRI":14,"RRI":15,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"P_On"},{"__type":"LD","Id":"2041682d-3739-4911-bff0-c7ca7d1ebfad","Up":true,"Var":"DayRst","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":16,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"TimeDayX"}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"UINT#0"}],"Ix":17,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"CntDay"}],"X":3},{"__type":"LD","Id":"f80d0584-dc87-461b-8d60-cf6700003f27","Ix":2,"Up":true,"Var":"WeekRst","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":18,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":9,"Type":"ANY","Var":"TimeWeekX"}],"X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":10,"Type":"ANY","Var":"UINT#0"}],"Ix":19,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":11,"Type":"ANY","Var":"CntWeek"}],"X":3,"Y":1},{"__type":"LD","Id":"1637132f-5b1d-46fe-b7ea-d460640bf121","Ix":3,"Up":true,"Var":"MonthRst","X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":12,"Type":"ANY","Var":"T#0h0m0s"}],"Ix":20,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":13,"Type":"ANY","Var":"TimeMonthX"}],"X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":14,"Type":"ANY","Var":"UINT#0"}],"Ix":21,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":15,"Type":"ANY","Var":"CntMonth"}],"X":3,"Y":2}],"CMT":"Reset values","LRI":22,"RRI":23,"VLs":[{"Ix":24,"X":1},{"Ix":24,"X":1,"Y":1}]}
{"CLs":[],"RRI":1,"VLs":[]}
