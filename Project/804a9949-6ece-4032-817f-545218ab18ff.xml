<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------&#xD;
//	NAME:						DiffCheck&#xD;
//	CREATOR:					Helgevold - Daniel Årvik&#xD;
// REQUIREMENTS: 		NX CPU&#xD;
// &#xD;
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------&#xD;
//  VERSION LOG:&#xD;
//	VERSION			DATE					SIGN						DESCRIPTION&#xD;
//	1.0.0					2023-02-24			Daniel Årvik				Initial Release&#xD;
//	2.0.0					2025-03-25			William Veim			Rework&#xD;
//================================================================================================================================&#xD;
//&#xD;
//		BESKRIVELSE:&#xD;
//		Gir feil ved for lite differanse på input (for stabil) med forsinkelse.&#xD;
//		&#xD;
//===============================================================================================================================&#xD;
&#xD;
// Sampler den analoge inngangen ved første kjøring&#xD;
IF P_First_Run OR P_First_RunMode THEN&#xD;
	Sample := Input;&#xD;
END_IF;&#xD;
&#xD;
// Hvis endringen er for liten vil det telles ned til alarm&#xD;
IF Input &lt; Sample + MaxValue*AllowedDeviation/100 AND Input &gt; Sample - MaxValue*AllowedDeviation/100 THEN&#xD;
	TON_Fault.In := TRUE;&#xD;
ELSE&#xD;
	TON_Fault.In := FALSE;&#xD;
	Sample := Input;&#xD;
END_IF;&#xD;
&#xD;
// Forsinkelse på Xs før det meldes feil&#xD;
TON_Fault(PT:=Delay, Q=&gt;Fault);</Text></StructuredTextModel>