<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ &#xD;
//	NAME:			Digital Input&#xD;
//	CREATOR:		Helgevold - William Veim                                                                                                                                                                                                                                                              &#xD;
//                                                                                                                                                                                                                                                                                                                            &#xD;
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ &#xD;
//  VERSION LOG:                                                                                                                                                                                                                                                                                                   &#xD;
//	VERSION		DATE				SIGN						DESCRIPTION                                                                                                                                                                                                                                 &#xD;
//	1.0.0				2025-03-17		William Veim			Initial release                                                                                                                                                                                                                                  &#xD;
//	1.0.1				2025-03-26		Ruben Byman			Bug fix, would not write to output if not in channel fault&#xD;
//	2.0.0				2025-07-14		William Veim			Moved all logitc to "HE_DigitalValue_Logic"&#xD;
//&#xD;
//===============================================================================================================================&#xD;
//&#xD;
//		FUNKSJONALITET:&#xD;
//		TO BE SET&#xD;
//&#xD;
//===============================================================================================================================&#xD;
&#xD;
(*************************************************************************&#xD;
 *	UPDATING VARIABELS&#xD;
 *************************************************************************)&#xD;
 &#xD;
	Wrk_DigitalValue_Logic.Inp_AlmSuppress:=FALSE; //Not in use&#xD;
	Wrk_DigitalValue_Logic.Inp_AlmSuppressDesc:=''; //Not in use&#xD;
	Wrk_DigitalValue_Logic.Inp_ControlCabinet:=Cfg_ControlCabinet;&#xD;
	Wrk_DigitalValue_Logic.Inp_ControllerTAG:=Cfg_ControllerTAG;&#xD;
	Wrk_DigitalValue_Logic.Inp_ModuleFault:=Inp_ModuleFault;&#xD;
	Wrk_DigitalValue_Logic.Inp_ProcessTAG:=Cfg_ProcessTAG;&#xD;
	&#xD;
	Wrk_DigitalValue_Logic.Inp_Value1:=Inp_Value;&#xD;
	Wrk_DigitalValue_Logic.Inp_Value1_Suffix:='Fuse tripped';&#xD;
	Wrk_DigitalValue_Logic.Inp_Value2:=FALSE;//Not in use&#xD;
	Wrk_DigitalValue_Logic.Inp_Value2_Suffix:='';//Not in use&#xD;
	Wrk_DigitalValue_Logic.Inp_Value3:=FALSE;//Not in use&#xD;
	Wrk_DigitalValue_Logic.Inp_Value3_Suffix:='';//Not in use&#xD;
&#xD;
(*************************************************************************&#xD;
 *	EXCECUTING LOGIC BLOCK&#xD;
 *************************************************************************)&#xD;
&#xD;
Wrk_DigitalValue_Logic(ENS:=TRUE, &#xD;
										Ext_DigitalValue:=Ext_DigitalValue, &#xD;
										Int_Alarm:=Int_Alarm);&#xD;
&#xD;
(*************************************************************************&#xD;
 *	UPDATING OUTPUS&#xD;
 *************************************************************************)&#xD;
 &#xD;
 Sts_Fault:=Wrk_DigitalValue_Logic.Sts_Fault;&#xD;
 Sts_AlarmToken:=Wrk_DigitalValue_Logic.Sts_AlarmToken;&#xD;
&#xD;
&#xD;
(*************************************************************************&#xD;
 *	RESET FUNCTION&#xD;
 *************************************************************************)&#xD;
&#xD;
IF Inp_Value THEN&#xD;
	TON_ResetCycle(In:=TRUE, PT:=Cfg_ResetInterval);&#xD;
ELSE&#xD;
	TON_ResetCycle.In:=FALSE;&#xD;
	TOF_ResetTime.In:=FALSE;&#xD;
	Out_Reset:=FALSE;&#xD;
END_IF;&#xD;
&#xD;
IF TON_ResetCycle.Q THEN&#xD;
	Out_Reset:=TRUE;&#xD;
	TOF_ResetTime(In:=TRUE, PT:=TIME#5s);&#xD;
	IF TOF_ResetTime.Q THEN&#xD;
		Out_Reset:=FALSE;&#xD;
		TON_ResetCycle.In:=FALSE;&#xD;
	END_IF;&#xD;
END_IF;&#xD;
</Text></StructuredTextModel>