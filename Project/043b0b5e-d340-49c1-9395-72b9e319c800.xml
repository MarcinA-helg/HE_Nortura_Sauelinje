<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------&#xD;
//	NAME:				HE_ATV_Last_Fault&#xD;
//	CREATOR:			Helgevold - Jan Magne Dybvik&#xD;
//&#xD;
// REQUIREMENTS: Schneider ATV320 / ATV650&#xD;
// DESCRTIPTION: 	Generer en string med siste feilkode i frekvensomformeren&#xD;
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------&#xD;
//  VERSION LOG:&#xD;
//	 VERSION			DATE				SIGN						DESCRIPTION&#xD;
//	 1.0					2023-11-09		Jan Magne Dybvik	Initial release&#xD;
//&#xD;
//================================================================================================================================&#xD;
&#xD;
&#xD;
// Initilize&#xD;
Wrk_FaultValue := WORD_TO_UINT(Inp_LFT);&#xD;
Wrk_FaultString := '';&#xD;
Wrk_FaultDescription := '';&#xD;
WRK_FaultCode := '';&#xD;
&#xD;
Wrk_LFT_Value := INT_TO_STRING(Wrk_FaultValue);&#xD;
&#xD;
CASE Wrk_FaultValue OF&#xD;
	0 :&#xD;
		WRK_FaultCode := 'NOF';&#xD;
		Wrk_FaultDescription := 'No error detected';&#xD;
	2:&#xD;
		WRK_FaultCode := 'EEF1';&#xD;
		Wrk_FaultDescription := 'EEprom control fault';&#xD;
	3:&#xD;
		WRK_FaultCode := 'CFF';&#xD;
		Wrk_FaultDescription := 'Incorrect configuration';&#xD;
	4:&#xD;
		WRK_FaultCode := 'CFI';&#xD;
		Wrk_FaultDescription := 'Invalid configuration';&#xD;
	5:&#xD;
		WRK_FaultCode := 'SLF';&#xD;
		Wrk_FaultDescription := 'Modbus communication interruption';&#xD;
	6:&#xD;
		WRK_FaultCode := 'ILF';&#xD;
		Wrk_FaultDescription := 'Internal communication interruption with option module';&#xD;
	7:&#xD;
		WRK_FaultCode := 'CNF';&#xD;
		Wrk_FaultDescription := 'Fieldbus communication interruption';&#xD;
	8:&#xD;
		WRK_FaultCode := 'EPF1';&#xD;
		Wrk_FaultDescription := 'External fault logic input';&#xD;
	9:&#xD;
		WRK_FaultCode := 'OCF';&#xD;
		Wrk_FaultDescription := 'Overcurrent';&#xD;
	10:&#xD;
		WRK_FaultCode := 'CRF1';&#xD;
		Wrk_FaultDescription := 'Precharge capacitor';&#xD;
	11:&#xD;
		WRK_FaultCode := 'SPF';&#xD;
		Wrk_FaultDescription := 'Speed feedback loss';&#xD;
	12:&#xD;
		WRK_FaultCode := 'ANF';&#xD;
		Wrk_FaultDescription := 'Output speed &lt;&gt; ref';&#xD;
	13:&#xD;
		WRK_FaultCode := 'LFF2';&#xD;
		Wrk_FaultDescription := 'AI2 4-20mA loss';&#xD;
	15:&#xD;
		WRK_FaultCode := 'IHF';&#xD;
		Wrk_FaultDescription := 'Input Overheating';&#xD;
	16:&#xD;
		WRK_FaultCode := 'OHF';&#xD;
		Wrk_FaultDescription := 'Drive overheating fault';&#xD;
	17:&#xD;
		WRK_FaultCode := 'OLF';&#xD;
		Wrk_FaultDescription := 'Motor overload fault';&#xD;
	18:&#xD;
		WRK_FaultCode := 'OBF';&#xD;
		Wrk_FaultDescription := 'DC bus overvoltage fault';&#xD;
	19:&#xD;
		WRK_FaultCode := 'OSF';&#xD;
		Wrk_FaultDescription := 'Supply overvoltage fault';&#xD;
	20:&#xD;
		WRK_FaultCode := 'OPF1';&#xD;
		Wrk_FaultDescription := 'Single output phase loss fault';&#xD;
	21:&#xD;
		WRK_FaultCode := 'PHF';&#xD;
		Wrk_FaultDescription := 'Supply phase loss fault';&#xD;
	22:&#xD;
		WRK_FaultCode := 'USF';&#xD;
		Wrk_FaultDescription := 'Supply undervolt fault';&#xD;
	23:&#xD;
		WRK_FaultCode := 'SCF1';&#xD;
		Wrk_FaultDescription := 'Motor short circuit';&#xD;
	24:&#xD;
		WRK_FaultCode := 'SOF';&#xD;
		Wrk_FaultDescription := 'Motor overspeed fault';&#xD;
	25:&#xD;
		WRK_FaultCode := 'TNF';&#xD;
		Wrk_FaultDescription := 'Autotuning detected error';&#xD;
	26:&#xD;
		WRK_FaultCode := 'INF1';&#xD;
		Wrk_FaultDescription := 'Rating error';&#xD;
	27:&#xD;
		WRK_FaultCode := 'INF2';&#xD;
		Wrk_FaultDescription := 'Incompatible control card';&#xD;
	28:&#xD;
		WRK_FaultCode := 'INF3';&#xD;
		Wrk_FaultDescription := 'Internal coms link fault';&#xD;
	29:&#xD;
		WRK_FaultCode := 'INF4';&#xD;
		Wrk_FaultDescription := 'Internal menu zone fault';&#xD;
	30:&#xD;
		WRK_FaultCode := 'EEF2';&#xD;
		Wrk_FaultDescription := 'EEprom power fault';&#xD;
	32: &#xD;
		WRK_FaultCode := 'SCF3';&#xD;
		Wrk_FaultDescription := 'Ground short circuit';&#xD;
	33: &#xD;
		WRK_FaultCode := 'OPF2';&#xD;
		Wrk_FaultDescription := 'Output phase loss';&#xD;
	34: &#xD;
		WRK_FaultCode := 'COF';&#xD;
		Wrk_FaultDescription := 'Comms fault CANopen';&#xD;
	35: &#xD;
		WRK_FaultCode := 'BLF';&#xD;
		Wrk_FaultDescription := 'Brake control fault';&#xD;
	37: &#xD;
		WRK_FaultCode := 'INF7';&#xD;
		Wrk_FaultDescription := 'Internal error 7 (Init)';&#xD;
	38:&#xD;
		WRK_FaultCode := 'EPF2';&#xD;
		Wrk_FaultDescription := 'External error detected by Fieldbus';&#xD;
	40:&#xD;
		WRK_FaultCode := 'INF8';&#xD;
		Wrk_FaultDescription := 'Internal error 8 (Switching Supply)';&#xD;
	41:&#xD;
		WRK_FaultCode := 'BRF';&#xD;
		Wrk_FaultDescription := 'Brake feedback fault';&#xD;
	42:&#xD;
		WRK_FaultCode := 'SLF2';&#xD;
		Wrk_FaultDescription := 'PC communication interruption';&#xD;
	44:&#xD;
		WRK_FaultCode := 'SSF';&#xD;
		Wrk_FaultDescription := 'Torque/current limit fault';&#xD;
	45:&#xD;
		WRK_FaultCode := 'SLF3';&#xD;
		Wrk_FaultDescription := 'HMI communication interruption';&#xD;
	49:&#xD;
		WRK_FaultCode := 'PTFL';&#xD;
		Wrk_FaultDescription := 'LI6=PTC failed';&#xD;
	50:&#xD;
		WRK_FaultCode := 'OTFL';&#xD;
		Wrk_FaultDescription := 'LI6=PTC overheat fault';&#xD;
	51:&#xD;
		WRK_FaultCode := 'INF9';&#xD;
		Wrk_FaultDescription := 'Internal I measure fault';&#xD;
	52:&#xD;
		WRK_FaultCode := 'INFA';&#xD;
		Wrk_FaultDescription := 'Internal i/p volt circuit flt';&#xD;
	53:&#xD;
		WRK_FaultCode := 'INFA';&#xD;
		Wrk_FaultDescription := 'Internal i/p volt circuit flt';&#xD;
	54:&#xD;
		WRK_FaultCode := 'TJF';&#xD;
		Wrk_FaultDescription := 'IGBT overheat fault';&#xD;
	55:&#xD;
		WRK_FaultCode := 'SCF4';&#xD;
		Wrk_FaultDescription := 'IGBT short circuit fault';&#xD;
	56:&#xD;
		WRK_FaultCode := 'SCF5';&#xD;
		Wrk_FaultDescription := 'Motor short circuit';&#xD;
	58:&#xD;
		WRK_FaultCode := 'FCF1';&#xD;
		Wrk_FaultDescription := 'Output contactor closed error';&#xD;
	59:&#xD;
		WRK_FaultCode := 'FCF2';&#xD;
		Wrk_FaultDescription := 'Output contactor opened error';&#xD;
	60:&#xD;
		WRK_FaultCode := 'INFC';&#xD;
		Wrk_FaultDescription := 'Internal error 12 (Internal current supply)';&#xD;
	64:&#xD;
		WRK_FaultCode := 'LCF';&#xD;
		Wrk_FaultDescription := 'Input contactor';&#xD;
	67:&#xD;
		WRK_FaultCode := 'HDF';&#xD;
		Wrk_FaultDescription := 'IGBT desaturation';&#xD;
	68:&#xD;
		WRK_FaultCode := 'INF6';&#xD;
		Wrk_FaultDescription := 'Internal option fault';&#xD;
	69:&#xD;
		WRK_FaultCode := 'INFE';&#xD;
		Wrk_FaultDescription := 'Internal- CPU';&#xD;
	71:&#xD;
		WRK_FaultCode := 'LFF3';&#xD;
		Wrk_FaultDescription := 'AI3 4-20mA loss';&#xD;
	72:&#xD;
		WRK_FaultCode := 'LFF4';&#xD;
		Wrk_FaultDescription := 'AI4 4-20mA loss';&#xD;
	73:&#xD;
		WRK_FaultCode := 'HCF';&#xD;
		Wrk_FaultDescription := 'Boards compatibility';&#xD;
	76:&#xD;
		WRK_FaultCode := 'DLF';&#xD;
		Wrk_FaultDescription := 'Dynamic load fault';&#xD;
	77:&#xD;
		WRK_FaultCode := 'CFI2';&#xD;
		Wrk_FaultDescription := 'Configuration transfer error';&#xD;
	79:&#xD;
		WRK_FaultCode := 'LFF5';&#xD;
		Wrk_FaultDescription := 'AI5 4-20 mA loss';&#xD;
	80:&#xD;
		WRK_FaultCode := 'FFDF';&#xD;
		Wrk_FaultDescription := 'Fan feedback error';&#xD;
	81:&#xD;
		WRK_FaultCode := 'MOF';&#xD;
		Wrk_FaultDescription := 'Module overheat error';&#xD;
	82:&#xD;
		WRK_FaultCode := 'LKON';&#xD;
		Wrk_FaultDescription := 'ON lock error';&#xD;
	99:&#xD;
		WRK_FaultCode := 'CSF';&#xD;
		Wrk_FaultDescription := 'Channel switching fault';&#xD;
	100:&#xD;
		WRK_FaultCode := 'ULF';&#xD;
		Wrk_FaultDescription := 'Process Underload Fault';&#xD;
	101:&#xD;
		WRK_FaultCode := 'OLC';&#xD;
		Wrk_FaultDescription := 'Process Overload Fault';&#xD;
	105:&#xD;
		WRK_FaultCode := 'ASF';&#xD;
		Wrk_FaultDescription := 'Angle error';&#xD;
	106:&#xD;
		WRK_FaultCode := 'LFF1';&#xD;
		Wrk_FaultDescription := 'AI1 4-20 mA loss';&#xD;
	107:&#xD;
		WRK_FaultCode := 'SAFF';&#xD;
		Wrk_FaultDescription := 'Safety fault';&#xD;
	108:&#xD;
		WRK_FaultCode := 'FBE';&#xD;
		Wrk_FaultDescription := 'FB fault';&#xD;
	109:&#xD;
		WRK_FaultCode := 'FBES';&#xD;
		Wrk_FaultDescription := 'FB stop fault';&#xD;
	110:&#xD;
		WRK_FaultCode := 'TH2F';&#xD;
		Wrk_FaultDescription := 'AI2 thermal level error';&#xD;
	111:&#xD;
		WRK_FaultCode := 'T2CF';&#xD;
		Wrk_FaultDescription := 'Thermal sensor error on AI2';&#xD;
	112:&#xD;
		WRK_FaultCode := 'TH3F';&#xD;
		Wrk_FaultDescription := 'AI3 thermal level error';&#xD;
	113:&#xD;
		WRK_FaultCode := 'T3CF';&#xD;
		Wrk_FaultDescription := 'Thermal sensor error on AI3';&#xD;
	114:&#xD;
		WRK_FaultCode := 'PCPF';&#xD;
		Wrk_FaultDescription := 'Pump cycle start error';&#xD;
	115:&#xD;
		WRK_FaultCode := 'OPLF';&#xD;
		Wrk_FaultDescription := 'Outlet pressure low';&#xD;
	116:&#xD;
		WRK_FaultCode := 'HFPF';&#xD;
		Wrk_FaultDescription := 'High flow error';&#xD;
	117:&#xD;
		WRK_FaultCode := 'IPPF';&#xD;
		Wrk_FaultDescription := 'Inlet pressure detected error';&#xD;
	119:&#xD;
		WRK_FaultCode := 'PLFF';&#xD;
		Wrk_FaultDescription := 'Pump low flow detected error';&#xD;
	120:&#xD;
		WRK_FaultCode := 'TH4F';&#xD;
		Wrk_FaultDescription := 'AI4 thermal level error';&#xD;
	121:&#xD;
		WRK_FaultCode := 'T4CF';&#xD;
		Wrk_FaultDescription := 'Thermal sensor error on AI4';&#xD;
	122:&#xD;
		WRK_FaultCode := 'TH5F';&#xD;
		Wrk_FaultDescription := 'AI5 thermal level error';&#xD;
	123:&#xD;
		WRK_FaultCode := 'T5CF';&#xD;
		Wrk_FaultDescription := 'Thermal sensor error on AI5';&#xD;
	124:&#xD;
		WRK_FaultCode := 'JAMF';&#xD;
		Wrk_FaultDescription := 'Anti Jam detected error';&#xD;
	125:&#xD;
		WRK_FaultCode := 'OPHF';&#xD;
		Wrk_FaultDescription := 'Outlet pressure high';&#xD;
	126:&#xD;
		WRK_FaultCode := 'DRYF';&#xD;
		Wrk_FaultDescription := 'Dry run detected error';&#xD;
	127:&#xD;
		WRK_FaultCode := 'PFMF';&#xD;
		Wrk_FaultDescription := 'PID feedback detected error';&#xD;
	128:&#xD;
		WRK_FaultCode := 'PGLF';&#xD;
		Wrk_FaultDescription := 'Program loading detected error';&#xD;
	129:&#xD;
		WRK_FaultCode := 'PGRF';&#xD;
		Wrk_FaultDescription := 'Program running detected error';&#xD;
	130:&#xD;
		WRK_FaultCode := 'MPLF';&#xD;
		Wrk_FaultDescription := 'Lead pump not available';&#xD;
	131:&#xD;
		WRK_FaultCode := 'LCLF';&#xD;
		Wrk_FaultDescription := 'Low level error';&#xD;
	132:&#xD;
		WRK_FaultCode := 'LCHF';&#xD;
		Wrk_FaultDescription := 'High level error';&#xD;
	142:&#xD;
		WRK_FaultCode := 'INFG';&#xD;
		Wrk_FaultDescription := 'Internal error 16 (IO module - relay)';&#xD;
	143:&#xD;
		WRK_FaultCode := 'INFH';&#xD;
		Wrk_FaultDescription := 'Internal error 17 (IO module - Standard)';&#xD;
	144:&#xD;
		WRK_FaultCode := 'INF0';&#xD;
		Wrk_FaultDescription := 'Internal error 0 (IPC)';&#xD;
	146:&#xD;
		WRK_FaultCode := 'INFD';&#xD;
		Wrk_FaultDescription := 'Internal error 13 (Diff current)';&#xD;
	148:&#xD;
		WRK_FaultCode := 'STF';&#xD;
		Wrk_FaultDescription := 'Motor stall detected error';&#xD;
	149:&#xD;
		WRK_FaultCode := 'INFL';&#xD;
		Wrk_FaultDescription := 'Internal error 21 (RTC)';&#xD;
	150:&#xD;
		WRK_FaultCode := 'ETHF';&#xD;
		Wrk_FaultDescription := 'Embedded Ethernet communication interruption';&#xD;
	151:&#xD;
		WRK_FaultCode := 'INFF';&#xD;
		Wrk_FaultDescription := 'Internal error 15 (Flash)';&#xD;
	152:&#xD;
		WRK_FaultCode := 'FWER';&#xD;
		Wrk_FaultDescription := 'Firmware Update error';&#xD;
	153:&#xD;
		WRK_FaultCode := 'INFM';&#xD;
		Wrk_FaultDescription := 'Internal error 22 (Embedded Ethernet)';&#xD;
	154:&#xD;
		WRK_FaultCode := 'INFP';&#xD;
		Wrk_FaultDescription := 'Internal error 25 (Incompatibility CB &amp; SW)';&#xD;
	155:&#xD;
		WRK_FaultCode := 'INFK';&#xD;
		Wrk_FaultDescription := 'Internal error 20 (option interface PCBA)';&#xD;
	157:&#xD;
		WRK_FaultCode := 'INFR';&#xD;
		Wrk_FaultDescription := 'Internal error 27 (Diagnostics CPLD)';&#xD;
	158:&#xD;
		WRK_FaultCode := 'INFN';&#xD;
		Wrk_FaultDescription := 'Internal error 23 (Module link)';&#xD;
	159:&#xD;
		WRK_FaultCode := 'SCF6';&#xD;
		Wrk_FaultDescription := 'AFE ShortCircuit error';&#xD;
	160:&#xD;
		WRK_FaultCode := 'OBF2';&#xD;
		Wrk_FaultDescription := 'AFE Bus unbalancing';&#xD;
	161:&#xD;
		WRK_FaultCode := 'INFS';&#xD;
		Wrk_FaultDescription := 'Internal error 28 (AFE)';&#xD;
	162:&#xD;
		WRK_FaultCode := 'IFA';&#xD;
		Wrk_FaultDescription := 'Monitoring circuit A error';&#xD;
	163:&#xD;
		WRK_FaultCode := 'IFB';&#xD;
		Wrk_FaultDescription := 'Monitoring circuit B error';&#xD;
	164:&#xD;
		WRK_FaultCode := 'IFC';&#xD;
		Wrk_FaultDescription := 'Monitoring circuit C error';&#xD;
	165:&#xD;
		WRK_FaultCode := 'IFD';&#xD;
		Wrk_FaultDescription := 'Monitoring circuit D error';&#xD;
	166:&#xD;
		WRK_FaultCode := 'CFA';&#xD;
		Wrk_FaultDescription := 'Cabinet circuit A error';&#xD;
	167:&#xD;
		WRK_FaultCode := 'CFB';&#xD;
		Wrk_FaultDescription := 'Cabinet circuit B error';&#xD;
	168:&#xD;
		WRK_FaultCode := 'CFC';&#xD;
		Wrk_FaultDescription := 'Cabinet circuit C error';&#xD;
	169:&#xD;
		WRK_FaultCode := 'TFA';&#xD;
		Wrk_FaultDescription := 'Motor winding A error';&#xD;
	170:&#xD;
		WRK_FaultCode := 'TFB';&#xD;
		Wrk_FaultDescription := 'Motor winding B error';&#xD;
	171:&#xD;
		WRK_FaultCode := 'TFC';&#xD;
		Wrk_FaultDescription := 'Motor bearing A error';&#xD;
	172:&#xD;
		WRK_FaultCode := 'TFD';&#xD;
		Wrk_FaultDescription := 'Motor bearing B error';&#xD;
	173:&#xD;
		WRK_FaultCode := 'CHF';&#xD;
		Wrk_FaultDescription := 'Cabinet overheat  error';&#xD;
	174:&#xD;
		WRK_FaultCode := 'URF';&#xD;
		Wrk_FaultDescription := 'AFE Mains undervoltage';&#xD;
	175:&#xD;
		WRK_FaultCode := 'INFV';&#xD;
		Wrk_FaultDescription := 'Internal error 31 (Missing brick)';&#xD;
	176:&#xD;
		WRK_FaultCode := 'INFT';&#xD;
		Wrk_FaultDescription := 'Internal error 29 (Inverter)';&#xD;
	177:&#xD;
		WRK_FaultCode := 'INFU';&#xD;
		Wrk_FaultDescription := 'Internal error 30 (Rectifier)';&#xD;
	179:&#xD;
		WRK_FaultCode := 'TJF2';&#xD;
		Wrk_FaultDescription := 'AFE IGBT over-heat error';&#xD;
	180:&#xD;
		WRK_FaultCode := 'CRF3';&#xD;
		Wrk_FaultDescription := 'AFE contactor feedback error';&#xD;
	181:&#xD;
		WRK_FaultCode := 'CFI3';&#xD;
		Wrk_FaultDescription := 'Pre-settings transfer error';&#xD;
	182:&#xD;
		WRK_FaultCode := 'CBF';&#xD;
		Wrk_FaultDescription := 'Circuit breaker error';&#xD;
	186:&#xD;
		WRK_FaultCode := 'MDLF';&#xD;
		Wrk_FaultDescription := 'MultiDrive Link error';&#xD;
	190:&#xD;
		WRK_FaultCode := 'MPDF';&#xD;
		Wrk_FaultDescription := 'Multipump device error';&#xD;
	191:&#xD;
		WRK_FaultCode := 'ACF1';&#xD;
		Wrk_FaultDescription := 'AFE DC-capacitors error';&#xD;
	192:&#xD;
		WRK_FaultCode := 'ACF2';&#xD;
		Wrk_FaultDescription := 'AFE current control error';&#xD;
	193:&#xD;
		WRK_FaultCode := 'MFF';&#xD;
		Wrk_FaultDescription := 'Mains frequency out of range';&#xD;
	200:&#xD;
		WRK_FaultCode := 'FDR1';&#xD;
		Wrk_FaultDescription := 'FDR Eth embedded error';&#xD;
	201:&#xD;
		WRK_FaultCode := 'FDR2';&#xD;
		Wrk_FaultDescription := 'FDR Eth module error';&#xD;
	206:&#xD;
		WRK_FaultCode := 'DCRE';&#xD;
		Wrk_FaultDescription := 'DC Bus ripple error';&#xD;
	207:&#xD;
		WRK_FaultCode := 'VCF';&#xD;
		Wrk_FaultDescription := 'Vortex control error';&#xD;
	208:&#xD;
		WRK_FaultCode := 'IDLF';&#xD;
		Wrk_FaultDescription := 'Idle mode exit error';&#xD;
	211:&#xD;
		WRK_FaultCode := 'SPFC';&#xD;
		Wrk_FaultDescription := 'Security files corrupt';&#xD;
	212:&#xD;
		WRK_FaultCode := 'ACF3';&#xD;
		Wrk_FaultDescription := 'AFE Line filter error';&#xD;
	213:&#xD;
		WRK_FaultCode := 'COPF';&#xD;
		Wrk_FaultDescription := 'Cooling pump error';&#xD;
	220:&#xD;
		WRK_FaultCode := 'AFLF';&#xD;
		Wrk_FaultDescription := 'Advanced function locked error';&#xD;
		&#xD;
ELSE&#xD;
	WRK_FaultCode := '???';&#xD;
	Wrk_FaultDescription := 'Unkown Fault';&#xD;
&#xD;
END_CASE;&#xD;
&#xD;
&#xD;
&#xD;
&#xD;
// Add LFT Code&#xD;
IF TestABit(In:=Cfg_Composition, Pos:=0) THEN&#xD;
	Wrk_FaultString := CONCAT(Wrk_FaultString, Wrk_LFT_Value);&#xD;
END_IF;	&#xD;
&#xD;
&#xD;
// Add Fault Code&#xD;
IF TestABit(In:=Cfg_Composition, Pos:=1) THEN&#xD;
	IF LEN(Wrk_FaultString) &gt; 0 THEN&#xD;
		Wrk_FaultString := CONCAT(Wrk_FaultString, Cfg_Delimiter);&#xD;
	END_IF;&#xD;
	Wrk_FaultString := CONCAT(Wrk_FaultString, WRK_FaultCode);&#xD;
END_IF;&#xD;
&#xD;
// Add Fault Description&#xD;
IF TestABit(In:=Cfg_Composition, Pos:=2) THEN&#xD;
	IF LEN(Wrk_FaultString) &gt; 0 THEN&#xD;
		Wrk_FaultString := CONCAT(Wrk_FaultString, Cfg_Delimiter);&#xD;
	END_IF;&#xD;
	Wrk_FaultString := CONCAT(Wrk_FaultString, Wrk_FaultDescription);&#xD;
END_IF;&#xD;
&#xD;
HE_ATV_Drive_Fault := Wrk_FaultString;</Text></StructuredTextModel>