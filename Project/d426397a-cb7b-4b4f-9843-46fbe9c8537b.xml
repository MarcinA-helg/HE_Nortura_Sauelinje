<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ &#xD;
//	NAME:			HE_NXEIC202_Status                                                                                                                                                                                                                                                                           &#xD;
//	CREATOR:		Helgevold - Jan Magne Dybvik                                                                                                                                                                                                                                                         &#xD;
//                                                                                                                                                                                                                                                                                                                            &#xD;
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ &#xD;
//  VERSION LOG:                                                                                                                                                                                                                                                                                                   &#xD;
//	VERSION			DATE					SIGN							DESCRIPTION                                                                                                                                                                                                                                 &#xD;
//	1.0.0					2024-01-29			Jan Magne Dybvik		Initial release&#xD;
//===============================================================================================================================&#xD;
//&#xD;
//		BESKRIVELSE:&#xD;
//		Tolking av EIC202 Status Word&#xD;
//&#xD;
//===============================================================================================================================&#xD;
&#xD;
(*&#xD;
	Minor Recoverable Fault - The value changes to TRUE when the error occurs:&#xD;
		- Tag Data Link Timeout&#xD;
		&#xD;
	Minor Unrecoverable Fault - The value changes to TRUE when the error occurs:&#xD;
		-  IP Address Duplication Error&#xD;
		&#xD;
	Major Recoverable Fault - The value changes to TRUE when the error occurs:&#xD;
		- Unit Configuration Verification Error&#xD;
		- Non-volatile Memory Control Parameter Error&#xD;
		- Unit Configuration Information Error&#xD;
		- Unit Configuration Error, Too Many Units&#xD;
		- Unit Configuration Error, Unsupported Configuration&#xD;
		- TCP/IP Setting Error (Local IP Address)&#xD;
		- NTP Client Setting Error&#xD;
		- NX Unit Communications Timeout&#xD;
		- NX Unit Initialization Error&#xD;
		- NX Unit Startup Error&#xD;
		&#xD;
	Major Unrecoverable Fault - The value changes to TRUE when the error occurs:&#xD;
		- Bus Controller Error&#xD;
		- Non-volatile Memory Hardware Error&#xD;
		- Memory Corruption Detected&#xD;
		&#xD;
	 Extended Device Status - Gives the status of the EtherNet/IP Coupler Unit:&#xD;
	 	- 02 hex: A timeout occurred in one or more target connections.&#xD;
		- 03 hex: A tag data link is not set&#xD;
		- 05 hex: There is a Major Fault&#xD;
		- 06 hex: One or more connections are communicating normally&#xD;
*)&#xD;
&#xD;
&#xD;
Sts_Owned := TestABit(In:= Inp_Status, Pos:= 0);&#xD;
Sts_Configured := TestABit(In:= Inp_Status, Pos:= 2);&#xD;
Sts_MinorRecoverableFault := TestABit(In:= Inp_Status, Pos:= 8);&#xD;
Sts_MinorUnrecoverableFault := TestABit(In:= Inp_Status, Pos:= 9);&#xD;
Sts_MajorRecoverableFault := TestABit(In:= Inp_Status, Pos:= 10);&#xD;
Sts_MajorUnrecoverableFault := TestABit(In:= Inp_Status, Pos:= 11);&#xD;
&#xD;
Wrk_extStatus := (Inp_Status &amp; WORD#16#F0); 				// Mask relevant bits&#xD;
Wrk_extStatus := SHR(In:= Wrk_extStatus, Num:=4);			// Shift bits into position&#xD;
Val_ExtendedDeviceStatus := Wrk_extStatus;</Text></StructuredTextModel>