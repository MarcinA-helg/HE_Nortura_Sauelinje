<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ &#xD;
//	NAME:			Analog Input Simple                                                                                                                                                                                                                                                                         &#xD;
//	CREATOR:		Helgevold - William Veim                                                                                                                                                                                                                                                              &#xD;
//                                                                                                                                                                                                                                                                                                                            &#xD;
//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ &#xD;
//  VERSION LOG:                                                                                                                                                                                                                                                                                                   &#xD;
//	VERSION		DATE				SIGN						DESCRIPTION                                                                                                                                                                                                                                 &#xD;
//	1.0.0				2025-04-22		William Veim			Initial release&#xD;
// 1.0.1				2025-06-24		Jan Magne Dybvik	Added configuration for Alarm SMS Process value (Cfg_AlarmSMS_SignificantDigits and Cfg_AlarmSMS_UseUnitPrefix)&#xD;
// 1.0.2				2025-06-24		Jan Magne Dybvik  Added configuration of ProcessUnit and added assigment of unit to SCADA structure&#xD;
//&#xD;
//===============================================================================================================================&#xD;
//&#xD;
//		FUNKSJONALITET:&#xD;
//		*Analog input (signal value) &#xD;
//		*Scaling of raw value to signal value&#xD;
//		*Excecution of analog input logic&#xD;
//&#xD;
//===============================================================================================================================&#xD;
&#xD;
(*************************************************************************&#xD;
 *	BLOCK SPESIFIC PARAMETERS&#xD;
 *************************************************************************)&#xD;
&#xD;
Wrk_AnalogInput_Logic.Cfg_ValueType:=TRUE; //INPUT VALUE TO LOGIC BLOCK IS PROCESS VALUE&#xD;
&#xD;
(*************************************************************************&#xD;
 *	UPDATE INPUT PARAMETERS&#xD;
 *************************************************************************)&#xD;
&#xD;
Wrk_AnalogInput_Logic.Inp_AlmSuppress:=				Inp_AlmSuppress;&#xD;
Wrk_AnalogInput_Logic.Inp_AlmSuppressDesc:=		Inp_AlmSuppressDesc;&#xD;
Wrk_AnalogInput_Logic.Inp_Value:=						Inp_ProcessValue;&#xD;
Wrk_AnalogInput_Logic.Inp_ModuleFault:=			Inp_ModuleFault;&#xD;
&#xD;
(*************************************************************************&#xD;
 *	UPDATE CONFIG PARAMETERS&#xD;
 *************************************************************************)&#xD;
Wrk_AnalogInput_Logic.Cfg_SignalValue_Y0:=		0; //NOT IN USE&#xD;
Wrk_AnalogInput_Logic.Cfg_SignalValue_Y1:=		0; //NOT IN USE&#xD;
Wrk_AnalogInput_Logic.Cfg_SignalValue_Unit:=		''; //NOT IN USE&#xD;
Wrk_AnalogInput_Logic.Cfg_ControlCabinet:=		Cfg_ControlCabinet;&#xD;
Wrk_AnalogInput_Logic.Cfg_ControllerTAG:=			Cfg_ControllerTAG;&#xD;
Wrk_AnalogInput_Logic.Cfg_ProcessTAG:=				Cfg_ProcessTAG;&#xD;
Wrk_AnalogInput_Logic.Cfg_ProcessValue_Unit := Cfg_ProcessValue_Unit;&#xD;
Wrk_AnalogInput_Logic.Cfg_AlarmSMS_SignificantDigits :=	Cfg_AlarmSMS_SignificantDigits;&#xD;
Wrk_AnalogInput_Logic.Cfg_AlarmSMS_UseUnitPrefix :=	Cfg_AlarmSMS_UseUnitPrefix;&#xD;
&#xD;
(*************************************************************************&#xD;
 *	UPDATING STATE CONTROL PARAMTERS&#xD;
 *************************************************************************)&#xD;
 //STATE 1 - Locked to "Input stuck"&#xD;
 //STATE 2 - Locked to "Process value out of range"&#xD;
 //STATE 3 - Locked to "Module fault"&#xD;
&#xD;
Wrk_AnalogInput_Logic.Cfg_State4_InUse:= FALSE; //NOT IN USE&#xD;
&#xD;
Wrk_AnalogInput_Logic.Cfg_State5_InUse:= FALSE; //NOT IN USE&#xD;
&#xD;
(*************************************************************************&#xD;
 *	EXCECUTING LOGICK BLOCK&#xD;
 *************************************************************************)&#xD;
 &#xD;
Wrk_AnalogInput_Logic(ENS:=TRUE, &#xD;
										Ext_AnalogValue:=	Ext_AnalogValue, &#xD;
										Int_Alarm:=				Int_Alarm); &#xD;
&#xD;
(*************************************************************************&#xD;
 *	UPDATING FB OUTPUT&#xD;
 *************************************************************************)&#xD;
 &#xD;
Sts_Fault:= 								Ext_AnalogValue.EXT_General.State_Quality&gt;0;&#xD;
Sts_AlarmToken:=					Wrk_AnalogInput_Logic.Out_AlarmToken;&#xD;
Out_ProcessValue:= 				Ext_AnalogValue.EXT_Operator.ProcessValue;&#xD;
Out_ProcessValue_Percent := 	Ext_AnalogValue.EXT_Operator.ProcessValue_Percent;&#xD;
</Text></StructuredTextModel>